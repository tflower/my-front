(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{119:function(e,t,a){"use strict";var r=a(31);a.n(r).a},12:function(e,t,a){"use strict";a(78);var r=a(75),o=a.n(r),n="http://api.portal-api.cyt-rain.cn/",s={get:function(e,t){return o.a.get("".concat(n).concat(e),{params:t}).then(function(e){return e.data.success?Promise.resolve(e.data.info):Promise.reject(e.data.info)}).catch(function(e){return Promise.reject(e.response.data.message)})},post:function(e,t){return o.a.post("".concat(n).concat(e),t).then(function(e){return e.data.success?Promise.resolve(e.data.info):Promise.reject(e.data.info)}).catch(function(e){return console.log(e),Promise.reject(e.response.data.message)})}};t.a=s},240:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-box"},[a("el-header",{staticClass:"f14"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/program/detail"}}},[e._v("项目详情")]),e._v(" "),a("el-breadcrumb-item",[e._v("添加项目")])],1)],1),e._v(" "),a("el-main",[a("el-form",{ref:"addform",attrs:{"label-position":"left",rules:e.proRules,model:e.programData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:e.programData.name,callback:function(t){e.$set(e.programData,"name",t)},expression:"programData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择项目类型"},model:{value:e.programData.type,callback:function(t){e.$set(e.programData,"type",t)},expression:"programData.type"}},[a("el-option",{attrs:{label:"通用应用",value:"univeral-app"}}),e._v(" "),a("el-option",{attrs:{label:"通用组件",value:"univeral-component"}}),e._v(" "),a("el-option",{attrs:{label:"通用node服务器",value:"univeral-node"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目地址",prop:"originUrl"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{clearable:""},model:{value:e.programData.originUrl,callback:function(t){e.$set(e.programData,"originUrl",t)},expression:"programData.originUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{staticStyle:{width:"600px"},attrs:{type:"textarea"},model:{value:e.programData.desc,callback:function(t){e.$set(e.programData,"desc",t)},expression:"programData.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addPro("addform")}}},[e._v("立即创建")])],1)],1)],1)],1)};r._withStripped=!0,a(78);var o=a(6),n=a(12),s={data:function(){return{programData:{name:"",type:"",originUrl:"",desc:""},proRules:{name:[{required:!0,message:"请填写项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],originUrl:[{required:!0,message:"请填写项目地址",trigger:"blur"}],desc:[{required:!0,message:"请填写项目描述",trigger:"blur"}]}}},beforeRouteEnter:function(e,t,a){o.a.setActivePath("/program/detail"),a()},methods:{addPro:function(e){var t=this;this.validate(e).then(function(){var e=t.programData;n.a.post("projects",e).then(function(e){var a=t;t.$message({message:e,type:"success",duration:2e3,onClose:function(){a.$router.push("/program/detail")}})}).catch(function(e){t.$message({message:"项目添加失败",type:"error"})})}).catch(function(){t.$message({message:"请完整填写项目信息",type:"warning"})})},validate:function(e){var t=this;return new Promise(function(a,r){t.$refs[e].validate(function(e){e?a():r()})})}}},i=(a(119),a(4)),l=Object(i.a)(s,r,[],!1,null,"cb6d46ba",null);l.options.__file="src/page/addpro.vue",t.default=l.exports},31:function(e,t){}}]);